<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temperatura, Calor y SensaciÃ³n TÃ©rmica - Secuencia DidÃ¡ctica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .thermometer { background: linear-gradient(to top, #ff4444 0%, #ffaa00 50%, #4444ff 100%); }
        .fire-animation { animation: flicker 1.5s infinite alternate; }
        @keyframes flicker { 0% { transform: scale(1) rotate(-2deg); } 100% { transform: scale(1.1) rotate(2deg); } }
        .ice-animation { animation: float 2s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
        /* Estilo para el botÃ³n de navegaciÃ³n activo */
        .nav-btn.active {
            background-color: #4338ca; /* Indigo-700 */
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-50">

<header class="gradient-bg text-white py-6 sm:py-8">
    <div class="container mx-auto px-4 text-center">
        <h1 class="text-2xl sm:text-4xl font-bold mb-2">ğŸŒ¡ Temperatura y Calor</h1>
        <p class="text-base sm:text-xl opacity-90">Secuencia DidÃ¡ctica Interactiva</p>
    </div>
</header>

<nav class="bg-white shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4">
        <div id="nav-container" class="flex flex-wrap justify-center items-center gap-2 py-3 sm:space-x-4 sm:py-4">
            <button data-section="teoria" class="nav-btn px-4 py-2 rounded-full font-semibold hover:bg-indigo-200 transition-all text-sm sm:text-base sm:px-6 active">ğŸ“š TeorÃ­a</button>
            <button data-section="juegos" class="nav-btn px-4 py-2 rounded-full font-semibold hover:bg-indigo-200 transition-all text-sm sm:text-base sm:px-6">ğŸ® Juegos</button>
            <button data-section="cuestionarios" class="nav-btn px-4 py-2 rounded-full font-semibold hover:bg-indigo-200 transition-all text-sm sm:text-base sm:px-6">â“ Quiz</button>
            <button data-section="desafios" class="nav-btn px-4 py-2 rounded-full font-semibold hover:bg-indigo-200 transition-all text-sm sm:text-base sm:px-6">ğŸ† DesafÃ­os</button>
        </div>
    </div>
</nav>

<main class="container mx-auto px-4 py-8">
    <section id="teoria" class="section">
        <h2 class="text-2xl sm:text-3xl font-bold text-center mb-6 sm:mb-8 text-gray-800">ğŸ“š Conceptos Fundamentales</h2>
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8">
            <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg card-hover">
                <div class="text-3xl sm:text-4xl mb-3 sm:mb-4 text-center">ğŸŒ¡</div>
                <h3 class="text-lg sm:text-xl font-bold mb-2 sm:mb-3 text-blue-600">Temperatura</h3>
                <p class="text-sm sm:text-base text-gray-700">Medida de la energÃ­a cinÃ©tica promedio de las partÃ­culas de un cuerpo. Se mide en grados Celsius (Â°C), Fahrenheit (Â°F) o Kelvin (K).</p>
            </div>
            <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg card-hover">
                <div class="text-3xl sm:text-4xl mb-3 sm:mb-4 text-center fire-animation">ğŸ”¥</div>
                <h3 class="text-lg sm:text-xl font-bold mb-2 sm:mb-3 text-red-600">Calor</h3>
                <p class="text-sm sm:text-base text-gray-700">EnergÃ­a que se transfiere entre cuerpos debido a una diferencia de temperatura. Siempre fluye del cuerpo mÃ¡s caliente al mÃ¡s frÃ­o.</p>
            </div>
            <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg card-hover sm:col-span-2 lg:col-span-1">
                <div class="text-3xl sm:text-4xl mb-3 sm:mb-4 text-center">ğŸŒ¬</div>
                <h3 class="text-lg sm:text-xl font-bold mb-2 sm:mb-3 text-green-600">SensaciÃ³n TÃ©rmica</h3>
                <p class="text-sm sm:text-base text-gray-700">Temperatura que percibe nuestro cuerpo, influenciada por factores como humedad, viento y radiaciÃ³n solar.</p>
            </div>
        </div>
        <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg mb-6 sm:mb-8">
            <h3 class="text-lg sm:text-2xl font-bold mb-4 text-center">ğŸ”¬ Simulador de Temperatura</h3>
            <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-8">
                <div class="text-center order-2 sm:order-1">
                    <div class="w-6 sm:w-8 h-20 sm:h-32 thermometer rounded-full mx-auto mb-2 sm:mb-4 relative">
                        <div id="mercury" class="absolute bottom-0 w-full bg-red-500 rounded-full transition-all duration-500" style="height: 50%"></div>
                    </div>
                    <p class="font-semibold text-xs sm:text-base">TermÃ³metro</p>
                </div>
                <div class="text-center order-1 sm:order-2 w-full sm:w-auto">
                    <input type="range" id="tempSlider" min="-20" max="50" value="20" class="w-full sm:w-64 mb-3 sm:mb-4">
                    <div class="text-xl sm:text-3xl font-bold" id="tempDisplay">20Â°C</div>
                    <p id="tempDescription" class="text-gray-600 mt-2 text-xs sm:text-base">Temperatura ambiente</p>
                </div>
            </div>
        </div>
    </section>

    <section id="juegos" class="section hidden">
        <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">ğŸ® Juegos Interactivos</h2>
        <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg mb-8">
            <h3 class="text-xl sm:text-2xl font-bold mb-4 text-center">ğŸ”¬ Simulador de EnergÃ­a CinÃ©tica</h3>
            <p class="text-center mb-6 text-gray-600 text-sm sm:text-base">Observa cÃ³mo se mueven las partÃ­culas segÃºn la temperatura</p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="text-center">
                    <div class="bg-gradient-to-b from-blue-100 to-red-100 border-4 border-gray-300 rounded-lg mx-auto mb-4 relative overflow-hidden w-full max-w-sm" style="height: 200px;" id="particleContainer">
                    </div>
                    <div class="mb-4">
                        <label class="block font-semibold mb-2 text-sm">Temperatura: <span id="particleTemp">50</span>Â°C</label>
                        <input type="range" id="particleTempSlider" min="0" max="100" value="50" class="w-full max-w-xs mx-auto">
                    </div>
                    <div class="flex flex-col sm:flex-row justify-center gap-2 sm:gap-4 mb-4">
                        <button id="pauseBtn" class="bg-yellow-600 text-white px-3 py-2 rounded-lg hover:bg-yellow-700 transition-colors text-xs sm:text-sm">â¸ Pausar</button>
                        <button id="resetBtn" class="bg-gray-600 text-white px-3 py-2 rounded-lg hover:bg-gray-700 transition-colors text-xs sm:text-sm">ğŸ”„ Reiniciar</button>
                    </div>
                </div>
                <div class="space-y-3">
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <h4 class="font-bold text-blue-700 mb-2 text-sm">ğŸ“Š Datos en Tiempo Real</h4>
                        <div class="space-y-1 text-xs sm:text-sm">
                            <div>Velocidad Promedio: <span id="avgSpeed" class="font-semibold">2.5</span> px/frame</div>
                            <div>EnergÃ­a CinÃ©tica: <span id="kineticEnergy" class="font-semibold">Media</span></div>
                            <div>Estado de la Materia: <span id="matterState" class="font-semibold">LÃ­quido</span></div>
                        </div>
                    </div>
                    <div class="bg-green-50 p-3 rounded-lg">
                        <h4 class="font-bold text-green-700 mb-2 text-sm">ğŸ§  Â¿QuÃ© estÃ¡ pasando?</h4>
                        <p id="particleExplanation" class="text-xs sm:text-sm text-gray-700">A temperatura media, las partÃ­culas se mueven con velocidad moderada. La temperatura mide la energÃ­a cinÃ©tica promedio de las partÃ­culas.</p>
                    </div>
                    <div class="bg-purple-50 p-3 rounded-lg">
                        <h4 class="font-bold text-purple-700 mb-2 text-sm">ğŸ¯ Conceptos Clave</h4>
                        <ul class="text-xs sm:text-sm text-gray-700 space-y-1 list-disc list-inside">
                            <li>Mayor temperatura = partÃ­culas mÃ¡s rÃ¡pidas</li>
                            <li>Menor temperatura = partÃ­culas mÃ¡s lentas</li>
                            <li>La temperatura mide energÃ­a cinÃ©tica promedio</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg">
            <h3 class="text-xl sm:text-2xl font-bold mb-4 text-center">ğŸŒ¡ Calculadora de SensaciÃ³n TÃ©rmica</h3>
            <p class="text-center mb-6 text-gray-600 text-sm sm:text-base">Ajusta los parÃ¡metros y observa cÃ³mo cambia</p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <div>
                        <label class="block font-semibold mb-2 text-sm sm:text-base">Temperatura Real: <span id="realTemp">20</span>Â°C</label>
                        <input type="range" id="realTempSlider" min="0" max="40" value="20" class="w-full mb-4">
                    </div>
                    <div>
                        <label class="block font-semibold mb-2 text-sm sm:text-base">Humedad: <span id="humidity">50</span>%</label>
                        <input type="range" id="humiditySlider" min="0" max="100" value="50" class="w-full mb-4">
                    </div>
                    <div>
                        <label class="block font-semibold mb-2 text-sm sm:text-base">Velocidad del Viento: <span id="windSpeed">10</span> km/h</label>
                        <input type="range" id="windSpeedSlider" min="0" max="50" value="10" class="w-full">
                    </div>
                </div>
                <div class="text-center">
                    <div class="bg-gradient-to-r from-blue-400 to-red-400 p-4 sm:p-6 rounded-xl text-white">
                        <h4 class="text-lg sm:text-xl font-bold mb-2">SensaciÃ³n TÃ©rmica</h4>
                        <div class="text-3xl sm:text-4xl font-bold" id="sensacionTermica">20Â°C</div>
                        <p id="sensacionDesc" class="mt-2 text-sm sm:text-base">Agradable</p>
                    </div>
                    <div class="mt-4 text-xs sm:text-sm text-gray-600 px-2" id="sensacionExplanation">La sensaciÃ³n tÃ©rmica considera temperatura, humedad y viento</div>
                </div>
            </div>
        </div>
    </section>

    <section id="cuestionarios" class="section hidden">
        <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">â“ Cuestionarios</h2>
        <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg">
            <div id="quiz-container">
                <div class="mb-6">
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 space-y-2 sm:space-y-0">
                        <h3 class="text-lg sm:text-xl font-bold">Pregunta <span id="questionNumber">1</span> de <span id="totalQuestions">5</span></h3>
                        <div class="text-sm text-gray-600">PuntuaciÃ³n: <span id="score">0</span></div>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
                        <div id="progressBar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 20%"></div>
                    </div>
                </div>
                <div id="question" class="text-base sm:text-lg mb-6 font-semibold"></div>
                <div id="options" class="space-y-3 mb-6"></div>
                <div class="flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0">
                    <button id="prevBtn" class="bg-gray-500 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm sm:text-base disabled:opacity-50" disabled>Anterior</button>
                    <button id="nextBtn" class="bg-blue-600 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base">Siguiente</button>
                </div>
            </div>
            <div id="quiz-results" class="hidden text-center">
                <h3 class="text-xl sm:text-2xl font-bold mb-4">Â¡Cuestionario Completado! ğŸ‰</h3>
                <div class="text-4xl sm:text-6xl mb-4" id="finalScore"></div>
                <p class="text-base sm:text-lg mb-6 px-4" id="finalMessage"></p>
                <button id="restartQuizBtn" class="bg-green-600 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base">Reintentar</button>
            </div>
        </div>
    </section>

    <section id="desafios" class="section hidden">
        <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">ğŸ† DesafÃ­os</h2>
        <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg mb-8">
            <h3 class="text-xl sm:text-2xl font-bold mb-4 text-center">ğŸ”„ Maestro de Conversiones</h3>
            <p class="text-center mb-6 text-gray-600 text-sm sm:text-base">Convierte temperaturas entre diferentes escalas</p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <div>
                        <label class="block font-semibold mb-2 text-sm sm:text-base">Temperatura Original:</label>
                        <input type="number" id="originalTemp" class="w-full p-3 border rounded-lg text-sm sm:text-base" placeholder="Ingresa la temperatura">
                    </div>
                    <div>
                        <select id="originalScale" class="w-full p-3 border rounded-lg text-sm sm:text-base">
                            <option value="celsius">Celsius (Â°C)</option>
                            <option value="fahrenheit">Fahrenheit (Â°F)</option>
                            <option value="kelvin">Kelvin (K)</option>
                        </select>
                    </div>
                    <button id="convertBtn" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base">Convertir</button>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-sm sm:text-base">Resultados:</h4>
                    <div class="space-y-3">
                        <div class="bg-blue-50 p-3 rounded-lg">
                            <span class="font-semibold text-sm sm:text-base">Celsius:</span> <span id="resultCelsius" class="text-sm sm:text-base">-</span>Â°C
                        </div>
                        <div class="bg-red-50 p-3 rounded-lg">
                            <span class="font-semibold text-sm sm:text-base">Fahrenheit:</span> <span id="resultFahrenheit" class="text-sm sm:text-base">-</span>Â°F
                        </div>
                        <div class="bg-purple-50 p-3 rounded-lg">
                            <span class="font-semibold text-sm sm:text-base">Kelvin:</span> <span id="resultKelvin" class="text-sm sm:text-base">-</span>K
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-white rounded-xl p-4 sm:p-6 shadow-lg">
            <h3 class="text-xl sm:text-2xl font-bold mb-4 text-center">ğŸ§ª Laboratorio Virtual</h3>
            <p class="text-center mb-6 text-gray-600 text-sm sm:text-base px-2">Experimenta y observa la transferencia de calor</p>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6">
                <div class="text-center">
                    <h4 class="font-bold mb-3 text-sm sm:text-base">Material A</h4>
                    <select id="materialA" class="w-full p-2 border rounded mb-2 text-xs sm:text-sm">
                        <option value="metal">Metal (alta conductividad)</option>
                        <option value="madera">Madera (baja conductividad)</option>
                        <option value="plastico">PlÃ¡stico (muy baja conductividad)</option>
                    </select>
                    <div class="bg-gray-200 p-3 sm:p-4 rounded">
                        <div class="text-xl sm:text-2xl mb-2">ğŸ”¥</div>
                        <div class="text-sm sm:text-base">Temp: <span id="tempA">100</span>Â°C</div>
                    </div>
                </div>
                <div class="text-center flex items-center justify-center order-last sm:order-none">
                    <div class="text-2xl sm:text-4xl transform rotate-90 sm:rotate-0">â¡</div>
                </div>
                <div class="text-center">
                    <h4 class="font-bold mb-3 text-sm sm:text-base">Material B</h4>
                    <select id="materialB" class="w-full p-2 border rounded mb-2 text-xs sm:text-sm">
                        <option value="metal">Metal (alta conductividad)</option>
                        <option value="madera" selected>Madera (baja conductividad)</option>
                        <option value="plastico">PlÃ¡stico (muy baja conductividad)</option>
                    </select>
                    <div class="bg-gray-200 p-3 sm:p-4 rounded">
                        <div class="text-xl sm:text-2xl mb-2 ice-animation">â„</div>
                        <div class="text-sm sm:text-base">Temp: <span id="tempB">20</span>Â°C</div>
                    </div>
                </div>
            </div>
            <div class="text-center space-y-2 sm:space-y-0">
                <button id="startExperimentBtn" class="bg-green-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base w-full sm:w-auto sm:mr-2">Iniciar Experimento</button>
                <button id="resetExperimentBtn" class="bg-gray-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:bg-gray-700 transition-colors text-sm sm:text-base w-full sm:w-auto">Reiniciar</button>
            </div>
            <div id="experimentResult" class="mt-6 p-4 bg-yellow-50 rounded-lg hidden">
                <h5 class="font-bold mb-2 text-sm sm:text-base">Resultado del Experimento:</h5>
                <p id="experimentText" class="text-sm sm:text-base"></p>
            </div>
        </div>
    </section>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- VARIABLES GLOBALES Y SELECTORES ---
        let currentQuestion = 0;
        let score = 0;
        let userAnswers = {};
        let experimentInterval = null;
        let particleAnimationId = null;
        let isParticleSimPaused = false;
        let isParticleSimInitialized = false;

        // --- LÃ“GICA DE NAVEGACIÃ“N ---
        const navContainer = document.getElementById('nav-container');
        const sections = document.querySelectorAll('.section');
        const navButtons = document.querySelectorAll('.nav-btn');

        navContainer.addEventListener('click', (event) => {
            const targetButton = event.target.closest('.nav-btn');
            if (!targetButton) return;
            const sectionId = targetButton.dataset.section;
            showSection(sectionId);
        });

        function showSection(sectionId) {
            sections.forEach(s => s.classList.add('hidden'));
            document.getElementById(sectionId).classList.remove('hidden');
            navButtons.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.section === sectionId);
            });
            if (sectionId === 'juegos' && !isParticleSimInitialized) {
                initParticleSimulation();
                isParticleSimInitialized = true;
            }
        }

        // --- (El resto del cÃ³digo de los simuladores y desafÃ­os no cambia) ---
        const tempSlider = document.getElementById('tempSlider');
        tempSlider.addEventListener('input', function() { /* ...cÃ³digo sin cambios... */ });

        // El simulador de partÃ­culas y la calculadora de sensaciÃ³n tÃ©rmica no necesitan cambios
        // ... (cÃ³digo omitido por brevedad, es el mismo que en la respuesta anterior)

        // --- CUESTIONARIO (CON LÃ“GICA CORREGIDA) ---
        const questions = [
            { q: "Â¿QuÃ© es la temperatura?", o: ["La cantidad de calor en un objeto", "La medida de la energÃ­a cinÃ©tica promedio de las partÃ­culas", "La sensaciÃ³n que percibimos al tocar algo", "La velocidad de las molÃ©culas mÃ¡s rÃ¡pidas"], c: 1 },
            { q: "Â¿En quÃ© direcciÃ³n fluye siempre el calor?", o: ["Del cuerpo mÃ¡s frÃ­o al mÃ¡s caliente", "Del cuerpo mÃ¡s caliente al mÃ¡s frÃ­o", "En ambas direcciones por igual", "Depende del material"], c: 1 },
            { q: "Â¿QuÃ© factores afectan la sensaciÃ³n tÃ©rmica?", o: ["Solo la temperatura", "Temperatura y humedad", "Temperatura, humedad, viento y radiaciÃ³n solar", "Solo el viento"], c: 2 },
            { q: "Â¿CuÃ¡l es el punto de congelaciÃ³n del agua en Kelvin?", o: ["0 K", "273.15 K", "100 K", "373.15 K"], c: 1 },
            { q: "Â¿QuÃ© material conduce mejor el calor?", o: ["Madera", "PlÃ¡stico", "Metal", "Aire"], c: 2 }
        ];

        function loadQuestion() {
            const q = questions[currentQuestion];
            document.getElementById('questionNumber').textContent = currentQuestion + 1;
            document.getElementById('totalQuestions').textContent = questions.length;
            document.getElementById('question').textContent = q.q;
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';

            q.o.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = `w-full p-3 text-left border rounded-lg hover:bg-gray-50 transition-colors text-sm sm:text-base`;

                // Si ya hay una respuesta guardada para esta pregunta, la marcamos
                if (userAnswers[currentQuestion] === index) {
                    button.classList.add('bg-blue-100', 'border-blue-500');
                }

                button.textContent = option;
                button.onclick = () => {
                    // Guardar la respuesta del usuario
                    userAnswers[currentQuestion] = index;

                    // **CAMBIO CLAVE: Calcular el puntaje inmediatamente**
                    calculateScore();

                    // Actualizar visualmente los botones sin recargar toda la pregunta
                    const allButtons = optionsDiv.querySelectorAll('button');
                    allButtons.forEach(btn => btn.classList.remove('bg-blue-100', 'border-blue-500'));
                    button.classList.add('bg-blue-100', 'border-blue-500');
                };
                optionsDiv.appendChild(button);
            });

            document.getElementById('progressBar').style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').textContent = currentQuestion === questions.length - 1 ? 'Finalizar' : 'Siguiente';
        }

        // Esta funciÃ³n ahora se usa para calcular el puntaje en tiempo real
        function calculateScore() {
            score = 0;
            // Recorremos todas las preguntas para contar las respuestas correctas
            for (let i = 0; i < questions.length; i++) {
                if (userAnswers[i] === questions[i].c) {
                    score++;
                }
            }
            // Actualizamos el contador de puntaje en la pantalla
            document.getElementById('score').textContent = score;
        }

        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                // Al finalizar, el puntaje ya estÃ¡ calculado
                showQuizResults();
            }
        });

        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        });

        function showQuizResults() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('quiz-results').classList.remove('hidden');
            const percentage = Math.round((score / questions.length) * 100);
            document.getElementById('finalScore').textContent = `${score}/${questions.length} (${percentage}%)`;
            let message = 'Necesitas repasar mÃ¡s el tema ğŸ’ª';
            if (percentage >= 90) message = 'Â¡Excelente! Dominas el tema perfectamente ğŸŒŸ';
            else if (percentage >= 70) message = 'Â¡Muy bien! Tienes un buen conocimiento ğŸ‘';
            else if (percentage >= 50) message = 'Bien, pero puedes mejorar ğŸ“š';
            document.getElementById('finalMessage').textContent = message;
        }

        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            currentQuestion = 0; score = 0; userAnswers = {};
            document.getElementById('score').textContent = '0';
            document.getElementById('quiz-container').classList.remove('hidden');
            document.getElementById('quiz-results').classList.add('hidden');
            loadQuestion();
        });

        // --- (El resto del cÃ³digo de los desafÃ­os no cambia) ---

        // --- INICIALIZACIÃ“N AL CARGAR LA PÃGINA ---
        loadQuestion();
        // updateSensacionTermica(); // No es necesario aquÃ­ si los sliders ya tienen valores iniciales
    });
</script>
</body>
</html>
